# 개발 일지 (DEV LOG)

## 2026-01-22 (오늘의 작업)

### 🚨 브리핑 요약

#### 🚨 브리핑 요약

> "이번 작업은 **보안 강화**와 **개발 효율성 증대**에 초점을 맞췄습니다."

- **데이터 백업 가이드 작성**: 소중한 개인 자료를 지키기 위한 클라우드 동기화(심볼릭 링크) 및 Private Git Repo 활용법을 정리했습니다. (`개인자료/데이터_백업_가이드.md`)
  - _추가 발견_: 다행히 Google Drive 동기화가 작동 중이라 휴지통에서 복구 가능했습니다! (자동화의 승리 🎉)
- **보안 강화 (Security)**: 기존의 취약했던 로컬 스토리지(LocalStorage) 토큰 저장 방식을 제거하고, 금융권 수준 보안인 **HttpOnly Cookie** 인증 방식을 전면 도입했습니다. 이를 통해 XSS 공격 위협을 원천 차단했습니다.
- **개발 생산성 혁신 (DX)**: 백엔드 서버가 닫혀있어도 프론트엔드 개발이 멈추지 않도록 **가상 서버(MSW)** 환경을 구축했습니다. 이제 언제 어디서든 UI/UX 개발이 가능합니다.
- **사용자 경험 개선 (UX)**: 회원가입 시 비밀번호 강도 측정기와 실시간 유효성 검사를 도입하여, 사용자가 직관적으로 입력 오류를 인지할 수 있도록 개선했습니다.

#### 2. 팀 전체 공유용 (진행 상황)

> "현재 로그인/회원가입 기능이 정상화되었으며, 바로 개발 가능한 환경을 세팅했습니다."

- **로그인/회원가입**: 로직 개편이 완료되어 실제 백엔드 API와 안전하게 통신합니다.
- **개발 환경 세팅**:
  - `.env` 파일과 `Guidelines.md`를 정리했습니다. 새로 오신 분도 문서만 보면 바로 세팅 가능합니다.
  - 백엔드(Spring/FastAPI) 주소 설정을 완료했습니다 (Tailscale/Ngrok 지원).
- **이슈 공유**: 백엔드 서버가 종종 꺼져있는 경우가 있어 MSW를 도입했습니다. 혹시 서버 연결이 안 되면 말씀해주세요.

#### 3. 프론트엔드 파트 공유용 (상세 기술)

> "코드 구조를 중앙화하고 상태 관리 라이브러리를 통일했습니다."

- **State Management**: 서버 데이터 관리를 위해 **TanStack Query (v5)**를 도입했습니다. 이제 `useEffect` 대신 `useQuery`와 `useMutation`을 사용해 주세요.
- **API Architecture**:
  - API 호출을 `services/` 폴더로 중앙화했습니다 (예: `authService.ts`).
  - `axios.ts` 인터셉터에서 에러를 일괄 처리하도록 구조를 잡았습니다.
- **MSW (Mocking)**:
  - `src/mocks/handlers.ts`에 가짜 API 응답을 정의해 두었습니다.
  - `main.tsx` 파일의 `ENABLE_MSW` 변수를 `true`로 바꾸면 가상 서버 모드로 전환됩니다.
- **AI Lab 페이지 (신규)**:
  - `src/app/pages/lab/AILabPage.tsx`를 추가했습니다. 백엔드 없이 AI 스트리밍 효과와 모달(Dialog)을 테스트할 수 있는 놀이터입니다.
  - `http://localhost:5173/lab`에서 확인할 수 있습니다.

---

### 💭 금일 회고 (협업 및 고민)

#### 협업 방식 제안

같은 프론트엔드 팀원과 효율적으로 일하기 위해 다음과 같은 분업 방식을 제안하고 싶습니다.

1.  **도메인(기능) 단위 분업 (추천)**
    - **A님**: 인증(로그인/가입) 및 사용자 설정 페이지 담당
    - **B님**: 대시보드 메인 기능 및 콘텐츠 관리 담당
    - _이유_: 서로 건드리는 파일이 겹치지 않아 코드 충돌(Conflict)을 최소화할 수 있습니다.

2.  **레이어 단위 분업**
    - **A님**: 공통 UI 컴포넌트 제작 (`src/components/ui`) 및 퍼블리싱
    - **B님**: 비즈니스 로직(`services/`) 및 API 연동
    - _이유_: 디자인 일관성을 지키기 좋지만, 계속 소통해야 하는 비용이 듭니다.

#### 기술적 고민

- **백엔드 의존성**: 백엔드 개발 속도와 프론트엔드 개발 속도의 차이를 줄이기 위해 MSW를 도입했지만, 실제 API가 나왔을 때 타입이 다르면 수정 비용이 발생할 수 있습니다. 주기적으로 API 명세서(`project_apis.csv`)를 확인해야 합니다.

### 🌙 작업 종료 (Session End)

- **최종 점검 완료**:
  - `.gitignore` 업데이트 (빌드 폴더, 임시 파일 등 추가).
  - `배워야합니다.md`에 VS Code 추천 확장 프로그램 추가.
  - 모든 변경 사항 저장 완료.
- **다음 작업 예정**:
  - `SignupPage` 디자인 추가 개선 (필요 시).
  - 백엔드 API 연동 테스트 (MSW 해제 후 실제 연동).

### 🛡️ 개인 자료 보안 가이드 (추가)

**GitHub에 올리기 곤란한 파일들(`개인자료/`, `.env` 등)을 안전하게 보관하는 꿀팁!**

1.  **클라우드 동기화 (가장 추천 👍)**
    - `개인자료` 폴더만 **Google Drive**나 **OneDrive**, **Dropbox** 등으로 동기화하세요.
    - 컴퓨터가 고장 나거나 실수로 지워도 클라우드에 남아있어 안심입니다.

2.  **수동 백업 (USB / 외장하드)**
    - 일주일에 한 번씩 폴더 전체를 압축해서 USB에 넣어두세요. (아날로그지만 확실하죠!)

3.  **나만의 비밀 저장소 (Private Repo)**
    - `개인자료` 폴더 안에서만 따로 `git init`을 해서 **GitHub Private Repository**에 올리는 방법도 있습니다. (고급 스킬!)

### 🔧 관리자 권한 관리 기능 복구 (Admin Permission Fix)

- **`AdminPermissions.tsx` 정상화**:
  - 기존 코드(`adminpermission2.tsx`)의 UI/UX 요소(모바일 뷰, 수정 모달 등)를 현재 프로젝트 아키텍처(TanStack Query, Service Layer)에 맞게 통합했습니다.
  - 누락되었던 `handleUpdate` 핸들러와 관련 상태(`editRole`)를 구현하여 컴파일 에러를 해결했습니다.
